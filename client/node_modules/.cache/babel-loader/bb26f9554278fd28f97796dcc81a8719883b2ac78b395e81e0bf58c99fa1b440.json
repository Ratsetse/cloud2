{"ast":null,"code":"var _jsxFileName = \"/workspaces/cloud2/client/src/PurchaseForm.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport './PurchaseForm.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction PurchaseForm() {\n  _s();\n  const [products, setProducts] = useState([]);\n  const [purchases, setPurchases] = useState([]);\n  const [form, setForm] = useState({\n    productId: '',\n    customerName: '',\n    quantity: 1\n  });\n\n  // Load products\n  useEffect(() => {\n    fetch('https://obscure-potato-jj75w9w5gww7fp5r4-5000.app.github.dev/api/products').then(res => res.json()).then(data => setProducts(data));\n  }, []);\n\n  // Load purchases\n  useEffect(() => {\n    fetch('http://localhost:5000/api/purchases').then(res => res.json()).then(data => setPurchases(data));\n  }, []);\n  const handleChange = e => {\n    setForm({\n      ...form,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const res = await fetch('http://localhost:5000/api/purchases', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(form)\n    });\n    if (res.ok) {\n      alert(\"‚úÖ Purchase recorded!\");\n      setForm({\n        productId: '',\n        customerName: '',\n        quantity: 1\n      });\n\n      // Refresh purchases\n      const updated = await fetch('http://localhost:5000/api/purchases');\n      const updatedData = await updated.json();\n      setPurchases(updatedData);\n    } else {\n      alert(\"‚ùå Failed to record purchase.\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"purchase-form-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\uD83D\\uDCCB Purchase Product\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"productId\",\n        value: form.productId,\n        onChange: handleChange,\n        required: true,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Select Product\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this), products.map(product => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: product._id,\n          children: product.name\n        }, product._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 25\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"customerName\",\n        placeholder: \"Customer Name\",\n        value: form.customerName,\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"quantity\",\n        type: \"number\",\n        min: \"1\",\n        value: form.quantity,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Submit Purchase\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '2rem'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\uD83E\\uDDFE Purchase Records\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this), purchases.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No purchases yet.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: purchases.map(purchase => {\n          const product = products.find(p => p._id === purchase.productId);\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: purchase.customerName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 37\n            }, this), \" bought \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: (product === null || product === void 0 ? void 0 : product.name) || 'Unknown Product'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 85\n            }, this), \" (x\", purchase.quantity, \")\"]\n          }, purchase._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 33\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 9\n  }, this);\n}\n_s(PurchaseForm, \"QPEwIYA46rdt/dZGtlcjHZw2SNI=\");\n_c = PurchaseForm;\nexport default PurchaseForm;\nvar _c;\n$RefreshReg$(_c, \"PurchaseForm\");","map":{"version":3,"names":["React","useEffect","useState","jsxDEV","_jsxDEV","PurchaseForm","_s","products","setProducts","purchases","setPurchases","form","setForm","productId","customerName","quantity","fetch","then","res","json","data","handleChange","e","target","name","value","handleSubmit","preventDefault","method","headers","body","JSON","stringify","ok","alert","updated","updatedData","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","onChange","required","map","product","_id","placeholder","type","min","style","marginTop","length","purchase","find","p","_c","$RefreshReg$"],"sources":["/workspaces/cloud2/client/src/PurchaseForm.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport './PurchaseForm.css';\r\n\r\nfunction PurchaseForm() {\r\n    const [products, setProducts] = useState([]);\r\n    const [purchases, setPurchases] = useState([]);\r\n    const [form, setForm] = useState({\r\n        productId: '',\r\n        customerName: '',\r\n        quantity: 1\r\n    });\r\n\r\n    // Load products\r\n    useEffect(() => {\r\n        fetch('https://obscure-potato-jj75w9w5gww7fp5r4-5000.app.github.dev/api/products')\r\n            .then(res => res.json())\r\n            .then(data => setProducts(data));\r\n    }, []);\r\n\r\n    // Load purchases\r\n    useEffect(() => {\r\n        fetch('http://localhost:5000/api/purchases')\r\n            .then(res => res.json())\r\n            .then(data => setPurchases(data));\r\n    }, []);\r\n\r\n    const handleChange = (e) => {\r\n        setForm({ ...form, [e.target.name]: e.target.value });\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        const res = await fetch('http://localhost:5000/api/purchases', {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify(form)\r\n        });\r\n\r\n        if (res.ok) {\r\n            alert(\"‚úÖ Purchase recorded!\");\r\n            setForm({ productId: '', customerName: '', quantity: 1 });\r\n\r\n            // Refresh purchases\r\n            const updated = await fetch('http://localhost:5000/api/purchases');\r\n            const updatedData = await updated.json();\r\n            setPurchases(updatedData);\r\n        } else {\r\n            alert(\"‚ùå Failed to record purchase.\");\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"purchase-form-container\">\r\n            <h2>üìã Purchase Product</h2>\r\n            <form onSubmit={handleSubmit}>\r\n                <select name=\"productId\" value={form.productId} onChange={handleChange} required>\r\n                    <option value=\"\">Select Product</option>\r\n                    {products.map(product => (\r\n                        <option key={product._id} value={product._id}>{product.name}</option>\r\n                    ))}\r\n                </select>\r\n                <input\r\n                    name=\"customerName\"\r\n                    placeholder=\"Customer Name\"\r\n                    value={form.customerName}\r\n                    onChange={handleChange}\r\n                    required\r\n                />\r\n                <input\r\n                    name=\"quantity\"\r\n                    type=\"number\"\r\n                    min=\"1\"\r\n                    value={form.quantity}\r\n                    onChange={handleChange}\r\n                />\r\n                <button type=\"submit\">Submit Purchase</button>\r\n            </form>\r\n\r\n            {/* Purchase list */}\r\n            <div style={{ marginTop: '2rem' }}>\r\n                <h3>üßæ Purchase Records</h3>\r\n                {purchases.length === 0 ? (\r\n                    <p>No purchases yet.</p>\r\n                ) : (\r\n                    <ul>\r\n                        {purchases.map(purchase => {\r\n                            const product = products.find(p => p._id === purchase.productId);\r\n                            return (\r\n                                <li key={purchase._id}>\r\n                                    <strong>{purchase.customerName}</strong> bought <strong>{product?.name || 'Unknown Product'}</strong> (x{purchase.quantity})\r\n                                </li>\r\n                            );\r\n                        })}\r\n                    </ul>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PurchaseForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}